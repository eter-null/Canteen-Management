<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Cart | Chows</title>
    <link rel="stylesheet" href="stylesheet/header.css">
    <link rel="stylesheet" href="stylesheet/footer.css">
    <link rel="stylesheet" href="stylesheet/cartStyle.css">
    <script src="script/cartButton.js"></script>


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">



    <style>
        body {
            font-family: 'Varela Round', sans-serif;
        }

        .modal-confirm {
            color: #636363;
            width: 325px;
            font-size: 14px;
        }

        .modal-confirm .modal-content {
            padding: 20px;
            border-radius: 5px;
            border: none;
        }

        .modal-confirm .modal-header {
            border-bottom: none;
            position: relative;
        }

        .modal-confirm h4 {
            text-align: center;
            font-size: 26px;
            margin: 30px 0 -15px;
        }

        .modal-confirm .form-control,
        .modal-confirm .btn {
            min-height: 40px;
            border-radius: 3px;
        }

        .modal-confirm .close {
            position: absolute;
            top: -5px;
            right: -5px;
        }

        .modal-confirm .modal-footer {
            border: none;
            text-align: center;
            border-radius: 5px;
            font-size: 13px;
        }

        .modal-confirm .icon-box {
            color: #fff;
            position: absolute;
            margin: 0 auto;
            left: 0;
            right: 0;
            top: -70px;
            width: 95px;
            height: 95px;
            border-radius: 50%;
            z-index: 9;
            background: #82ce34;
            padding: 15px;
            text-align: center;
            box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.1);
        }

        .modal-confirm .icon-box i {
            font-size: 58px;
            position: relative;
            top: 3px;
        }

        .modal-confirm.modal-dialog {
            margin-top: 80px;
        }

        .modal-confirm .btn {
            color: #fff;
            border-radius: 4px;
            background: #82ce34;
            text-decoration: none;
            transition: all 0.4s;
            line-height: normal;
            border: none;
        }

        .modal-confirm .btn:hover,
        .modal-confirm .btn:focus {
            background: #6fb32b;
            outline: none;
        }

        .trigger-btn {
            display: inline-block;
            margin: 100px auto;
        }
    </style>


</head>
<body>
<!--header-->
<section>
    <header class="header">
        <div class="logo">
            <a href="#">
                <img src="img/canteen-logo.png" alt="Logo">
            </a>
            <span class="logo-text">Canteen Management System</span>
        </div>
        <nav class="nav-links">
            <ul>
                <li><a href="home.html">Home</a></li>
                <li><a href="profile.html">Profile</a></li>
                <li><a href="orders.html">Orders</a></li>
                <li><a href="contactus.html">Contact</a></li>
                <li class="cart-icon">
                    <a class="cart-circle" href="cart.html">
                        <i class="fas fa-shopping-cart"></i>
                    </a>
                    <div class="cart-count">0</div>
                </li>
                <li>
                    <a class="logout-button" href="login.html">
                        <i class="fas fa-sign-out-alt"></i>
                    </a>
                </li>

            </ul>
        </nav>


    </header>
</section>

<!--cart items-->
<section>
    <div class="container">
        <h1 class="d-flex justify-content-center align-items-center">Your Order</h1>
        <div class="row">
            <div class="col-md-8 scrollable">
<!--                js db here-->
                <div class="cart-item">
                    <button class="del-all-btn"></button>
                    <img src="img/oreoshake.jpg" alt="Item 1" class="item-img">
                    <div class="item-details">
                        <h5>Oreo Shake</h5>
                        <p></p>
                    </div>
                    <div class="item-price-addrem">
                        <span class="item-price">Tk 250</span>
                        <div class="addrem-container">
                            <div class="control minus">-</div>
                            <input class="input-box" type="text" value="2" readonly>
                            <div class="control plus">+</div>
                        </div>
                    </div>
                </div>
                <div class="cart-item">
                    <button class="del-all-btn"></button>
                    <img src="img/download%20(2).jpg" alt="Item 1" class="item-img">
                    <div class="item-details">
                        <h5>Oreo Shake</h5>
                        <p></p>
                    </div>
                    <div class="item-price-addrem">
                        <span class="item-price">Tk 250</span>
                        <div class="addrem-container">
                            <div class="control minus">-</div>
                            <input class="input-box" type="text" value="2" readonly>
                            <div class="control plus">+</div>
                        </div>
                    </div>
                </div>



            </div>




<!--            subtotal-->
            <div class="col-md-4">
                <div style="width: 90%" id="countdown-container">
                    <i id="clock-icon" class="fas fa-clock"></i>
                    <p id="countdown">Estimated waiting time:</p>
                </div>
                <br>
                <h3>Cart Totals</h3>
                <div class="subtotal-card">
                    <h5>Subtotal: Tk 500.00</h5>
                    <p>VAT: Tk 5.25</p>
                    <hr>
                    <h4>Total: Tk 505.25</h4>
                    <button id="checkout-button" class="add-to-cart-button">Checkout</button>
                </div>

            </div>
        </div>
    </div>
</section>

<footer>
    <div style="width: 40%; padding-right: 10%">
        <a class="canteen text-white" href="home.php">Canteen Management System</a>
        <p>Welcome to our Canteen Management System! We take pride in offering a delightful dining experience. Our diverse menu and exceptional service are designed to satisfy your cravings. Join us and discover a world of culinary delights.</p>
    </div>
    <div style="width: 20%;">
        <h3>Quick Links</h3>
        <ul>
            <li><a href="#">Browse Menu</a></li>
            <li><a href="#">Operating Hours</a></li>
            <li><a href="#">Register</a></li>
        </ul>
    </div>
    <div style="width: 20%;">
        <h3>Customer Support</h3>
        <ul>
            <li><a href="#">Contact Us</a></li>
            <li><a href="#">FAQs</a></li>
            <li><a href="#">Feedback</a></li>
        </ul>
    </div>
    <div style="width: 20%;">
        <h3>Connect With Us</h3>
        <ul>
            <li><a href="#">Facebook</a></li>
            <li><a href="#">Twitter</a></li>
            <li><a href="#">Instagram</a></li>
        </ul>
    </div>
</footer>

<!-- Yes or No Modal -->
<div id="confirmation-modal" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Confirmation</h5>
                
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to proceed with the checkout?</p>
            </div>
            <div class="modal-footer">
                <button id="confirm-yes" type="button" class="btn btn-primary">Yes</button>
                <button id="no-modal" type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
            </div>
        </div>
    </div>
</div>

<!-- Success Modal (hidden by default) -->
<div id="success" class="modal fade">
    <div class="modal-dialog modal-confirm">
        <div class="modal-content">
            <div class="modal-header">
                <div class="icon-box">
                    <i class="material-icons">&#xE876;</i>
                </div>
                <h4 class="modal-title w-100">Order Placed!</h4>
            </div>
            <div class="modal-body">
                <p class="text-center">Your order has been confirmed. Check time to see when to receive your order at the counter.</p>
            </div>
            <div class="modal-footer">
                <button id="success-ok" class="btn btn-success btn-block" data-dismiss="modal">OK</button>
            </div>
        </div>
    </div>
</div>





<script>
    // Add a click event listener to the checkout button
    document.getElementById('checkout-button').addEventListener('click', function () {
        // Show the confirmation modal
        $('#confirmation-modal').modal('show');
    });

    // Add a click event listener to the "Yes" button in the confirmation modal
    document.getElementById('confirm-yes').addEventListener('click', function () {
        // Hide the confirmation modal
        $('#confirmation-modal').modal('hide');

        // Show the success modal after a delay to allow the user to see the confirmation
        setTimeout(function () {
            $('#success').modal('show');
        }, 500); // Adjust the delay as needed
    });

    // Add a click event listener to the "OK" button in the success modal
    document.getElementById('success-ok').addEventListener('click', function () {
        // Hide the success modal
        $('#success').modal('hide');
    });
    document.getElementById('no-modal').addEventListener('click', function () {
        // Hide the success modal
        $('#confirmation-modal').modal('hide');
    });
</script>


<script>
    // JavaScript code to start the countdown when the button is clicked
    document.getElementById("success-ok").addEventListener("click", function () {
        // Set the estimated waiting time in minutes
        const estimatedWaitingTimeMinutes = 15; // Change this value as needed

        const countdownElement = document.getElementById("countdown");

        // Calculate the end time of the countdown
        const endTime = new Date();
        endTime.setMinutes(endTime.getMinutes() + estimatedWaitingTimeMinutes);

        function updateCountdown() {
            const now = new Date();
            const timeLeft = new Date(endTime - now);

            const minutes = timeLeft.getMinutes();
            const seconds = timeLeft.getSeconds();

            const formattedTime = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            countdownElement.textContent = `Estimated waiting time: ${formattedTime}`;

            if (minutes === 0 && seconds === 0) {
                clearInterval(countdownInterval);
                countdownElement.textContent = "Your order is ready!";
            }
        }

        updateCountdown(); // Call the function immediately to avoid initial delay

        const countdownInterval = setInterval(updateCountdown, 1000); // Update the countdown every second
    });
</script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</body>
</html>